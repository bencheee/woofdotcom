{% extends "base.html" %}
{% block content %}
<!-- Banner -->
<section class="banner">
  <img class="banner__img" src="/static/images/banner_dog_main.webp" alt="">
  <div class="title-section">
    <h1 class="title-section__title">Posts collection</h1>
    <p class="title-section__text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean bibendum ex nec ultrices porta.</p>
  </div>
</section>
<!-- Dogs container -->
<section class="container container--light">
  <p class="filter-toggle js-filter-toggle"><i class="fas fa-cogs"></i>Filter dogs</p>
  {% if no_dogs == True %}
    <p class="filter-caption">Couldn't find any dogs with given criteria!</p>
  {% else %}
    <p class="filter-caption">Showing {{ cur_len }} out of {{ tot_len }} total dogs</p>
  {% endif %}

  <form class="form form-toggle js-form-toggle"
    action="{{ url_for('dog_main') }}" method="POST">
    <input class="form__input" name="name" placeholder="Search by dog's name">

    <select class="form__input" name="age" id="age">
      <option value="" selected disabled hidden>Select age</option>
      <option value="0-3">0-3 years</option>
      <option value="4-7">4-7 years</option>
      <option value="8+">8+ years</option>
    </select>

    <select class="form__input" name="gender" id="gender">
      <option value="" selected disabled hidden>Select gender</option>
      <option>Male</option>
      <option>Female</option>
    </select>

    <select class="form__input" name="size" id="size">
      <option value="" selected disabled hidden>Select size</option>
      <option>Small</option>
      <option>Medium</option>
      <option>Large</option>
    </select>

    <div class="checkbox">
      <p class="checkbox__title">Other options</p>
      <ul>
        <li>
          <input type="checkbox" name="good_with" id="good_with" value="kids">
          <label for="good_with">Good with kids</label>
        </li>
        <li>
          <input type="checkbox" name="good_with" id="good_with" value="family">
          <label for="good_with">Suitable for families</label>
        </li>
        <li>
          <input type="checkbox" name="good_with" id="good_with" value="pets">
          <label for="good_with">Good with other pets</label>
        </li>
        <li>
          <input type="checkbox" name="good_with" id="good_with" value="single">
          <label for="good_with">Prefers only one owner</label>
        </li>
      </ul>
    </div>

    <button class="btn btn--invert btn--center btn--filter-reset"
      type="reset">Reset</button>
    <button class="btn btn--center btn--filter" type="submit">SEARCH</button>
  </form>

  {% if no_dogs == False %}
  <div class="mobile-container">
    <div class="card">
      <a href="{{ url_for('dog_page', dog_id=dog_top._id) }}">
          <div class="card__img img--rounded js-img-mobile" style="background-image: url({{dog_top.img_path}});" alt=""></div>
          <h3 class="card__title">{{ dog_top.name.capitalize() }}</h3>
      </a>
      <p class="card__info">
          {% if dog_top.age == "0" %}
              <span>Less than year | {{ dog_top.gender }}</span>
          {% else %}
              <span>{{ dog_top.age }} yr | {{ dog_top.gender }}</span>
          {% endif %}
      </p>
      <p class="card__summary">"{{ dog_top.greeting }}"</p>
      <hr class="hr hr--card">
    </div>
    {% for dog in dogs %}
      <div class="card">
        <a href="{{ url_for('dog_page', dog_id=dog._id) }}">
          <div class="card__img img--rounded js-img-mobile" style="background-image: url({{dog.img_path}});" alt=""></div>
          <h3 class="card__title">{{ dog.name.capitalize() }}</h3>
        </a>
        <p class="card__info">
          {% if dog.age == "0" %}
            <span>Less than year | {{ dog.gender }}</span>
          {% else %}
            <span>{{ dog.age }} yr | {{ dog.gender }}</span>
          {% endif %}
        </p>
        <p class="card__summary">"{{ dog.greeting }}"</p>
      </div>
    {% endfor %}
  </div>
  <div class="tablet-container">
    <div class="card">
      <a href="{{ url_for('dog_page', dog_id=dog_top._id) }}">
        <div class="card__img img--rounded js-img-tablet-l" style="background-image: url({{dog_top.img_path}});" alt="">
        </div>
        <h3 class="card__title">{{ dog_top.name.capitalize() }}</h3>
      </a>
      <p class="card__info">
        {% if dog_top.age == "0" %}
          <span>Less than year | {{ dog_top.gender }}</span>
        {% else %}
          <span>{{ dog_top.age }} yr | {{ dog_top.gender }}</span>
        {% endif %}
      </p>
      <p class="card__summary">"{{ dog_top.greeting }}"</p>
      <hr class="hr hr--card">
    </div>
    {% if dogs|length > 1 %}
      {% for dog in dogs %}
        <div class="card">
          <div class="wrapper__row">
            <a class="card__img-link" href="{{ url_for('dog_page', dog_id=dog._id) }}">
              <div class="card__img img--rounded js-img-tablet-m" style="background-image: url({{dog.img_path}});" alt="">
              </div>
            </a>
            <div class="wrapper__column card__info-wrapper">
              <a class="card__img-link" href="{{ url_for('dog_page', dog_id=dog._id) }}">
                <h3 class="card__title">{{ dog.name.capitalize() }}</h3>
              </a>
              <p class="card__info">
                {% if dog.age == "0" %}
                  <span>Less than year | {{ dog.gender }}</span>
                {% else %}
                  <span>{{ dog.age }} yr | {{ dog.gender }}</span>
                {% endif %}
              </p>
              <p class="card__summary">"{{ dog.greeting }}"</p>
            </div>
          </div>
        </div>
      {% endfor %}
    {% endif %}
  </div>
  {% endif %}
</section>
{% if not session.user %}
<!-- Registration card -->
<section class="container container--light container--regcard">
  <div class="reg-card wrapper__row">
    <div class="reg-card--left wrapper__column">
      <h2 class="container__title">Why register?</h2>
      <p class="reg-card__text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec tempus eget enim sit amet tristique. Duis sit amet sagittis risus. Integer scelerisque dolor sed tortor finibus, in tincidunt augue rutrum. Mauris mauris elit, maximus vel tristique ac, fermentum ac odio. Fusce vitae nisi ligula.</p>
    </div>
    <div class="reg-card--right wrapper__column">
      <ul class="reg-card__list">
        <li class="reg-card__item">
          <i class="far fa-check-circle"></i>
          <span>Unlimited access to all blogs</span>
        </li>
        <li class="reg-card__item">
          <i class="far fa-check-circle"></i>
          <span>Write your own posts</span>
        </li>
        <li class="reg-card__item">
          <i class="far fa-check-circle"></i>
          <span>Unlimited access to dog database</span>
        </li>
        <li class="reg-card__item">
          <i class="far fa-check-circle"></i>
          <span>Place ads for dog rehoming</span>
        </li>
        <li class="reg-card__item">
          <i class="far fa-check-circle"></i>
          <span>Send requests for dog adoption</span>
        </li>
      </ul>
      <a class="btn btn--transparent" href="{{ url_for('user_register') }}">Register for free</a>
    </div>
  </div>
</section>
{% endif %}
{% endblock %}